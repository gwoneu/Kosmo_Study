<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.mapper.PostMapper">
	<select id="list" resultType="hashmap"> <!-- list 를 출력하는 mapper -->
		<!-- sql문 추가하기 -->
		select p.*, date_format(p.regdate, '%Y-%m-%d %T') as fmtdate, u.uname
		from posts as p, users as u
		where uid = writer
		order by pid desc;
	</select>
	<select id="read" resultType="hashmap">
	select p.*, date_format(p.regdate, '%Y-%m-%d %T') as fmtdate, u.uname
		from posts as p, users as u
		where uid=writer and pid=#{pid}; <!-- mapper 변수 = #{} -->
	</select>
	<insert id="insert">
		insert into posts(title, body, writer)
		valuse(#{title}, #{body}, #{writer})
	</insert>
</mapper>