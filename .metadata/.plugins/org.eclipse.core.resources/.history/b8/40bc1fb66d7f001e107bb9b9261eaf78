<div class="my-5">
	<h1 class="text-center mb-5">정보수정</h1>
	<div id="div_mypage" class="row justify-content-center"></div>
</div>

<script id="temp_mypage" type="x-handlebars-template">
	<div class="col-md-6">
		<div class="card p-4">
			<form name="frm">
				<div class="input-group mb-2">
					<span class="input-group-text">이름</span>
					<input name="uname" class="form-control" value="{{uname}}">
				</div>
				<div class="input-group mb-2">
					<span class="input-group-text">전화</span>
					<input name="phone" class="form-control" value="{{phone}}">
				</div>
				<div class="input-group mb-2">
					<span class="input-group-text">주소</span>
					<input name="address1" class="form-control" value="{{address1}}">
					<button id="btn-search" class="btn btn-dark" type="button">검색</button>
				</div>
				<div><input name="address2" class="form-control" value="{{address2}}"></div>
				<div class="text-center mt-3">
					<button id="btn-update" class="btn btn-dark" type="button">수정</button>
					<button class="btn btn-outline-dark" type="reset">취소</button>
				</div>
			</from>
		</div>
	</div>
</script>

<script>
	getMypage();
	
	$("#div_mypage").on("click", "#btn-update", function(){
		//alert(".."); 수정버튼을 누를때 alert 뜨는지 확인
		const uname = $(frm.uname).val();
		alert(uname);
	});
	
	function getMypage(){
		$.ajax({
			type:"get",
			url:"/users/read",
			data:{uid:sessionStorage.getItem("uid")},
			success:function(data){
				//console.log(data);
				const temp = Handlebars.compile($("#temp_mypage").html());
				$("#div_mypage").html(temp(data));
			}
		});
	}
</script>